// Predefined bus schedule in HH:MM format
const busSchedule = ["05:30", "05:44", "05:58", "06:12", "06:24", "06:40",'06:52', '07:06', '07:20', '07:34', '07:48', '08:02', 
    '08:16', '08:30', '08:44', '08:58', '09:12', '09:26', '09:40', '09:54', '10:08', '10:22', '10:36', '10:50', '11:04', '11:18', 
    '11:32', '11:46', '12:00', '12:14', '12:28', '12:42', '12:56', '13:10', '13:24', '13:38', '13:52', '14:06', '14:20', '14:34', 
    '14:48', '15:02', '15:16', '15:30', '15:44', '15:58', '16:12', '16:26', '16:40', '16:54', '17:08', '17:30',"18:00","18:26",
    "18:40","18:54","18:20","19:50,","20:46"];

    // Function to find the next bus
    function findNextBus() {
        const userTimeInput = document.getElementById('userTime').value;

        if (!userTimeInput) {
            document.getElementById('result').textContent = 'Моля въведете валидно време.';
            return;
        }

        const nextBus = busSchedule.find(busTime => busTime >= userTimeInput);

        if (nextBus) {
            document.getElementById('result').textContent = `Следващия автобус е в ${nextBus}.`;
        } else {
            document.getElementById('result').textContent = 'Няма повече автобуси днес.';
        }
    }
    var map = L.map('map').setView([42.1354, 24.7453], 13);

    // Add the OpenStreetMap tile layer
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    // Define the bus route (example coordinates)
var busRoute = [[42.15960461756598,24.78107301255674,0],
[42.15945972364225,24.78127681077893,0],
[42.15944320361542,24.78142928320022,0],
[42.1597617012256,24.78217567352879,0],
[42.15954499470378,24.78601620517709,0],
[42.15905330521801,24.78913713607029,0],
[42.15895367469373,24.78922044000362,0],
[42.15880785711193,24.78919376697839,0],
[42.15741113142322,24.78852211154006,0],
[42.15674982012339,24.79061067318329,0],
[42.15435825701876,24.78964210932278,0],
[42.15253980630801,24.78946263944934,0],
[42.15273259442399,24.78695326735496,0],
[42.14880286604136,24.786388708219,0],
[42.14866709929053,24.78627424918409,0],
[42.14919667360659,24.77923456680636,0],
[42.14926988961096,24.77749115034396,0],
[42.14924361828358,24.77593192714661,0],
[42.14700497498065,24.7629919111073,0],
[42.1364984948662,24.76286914378627,0],
[42.13629647626937,24.76270965492286,0],
[42.13618808042294,24.76250365961608,0],
[42.13632167021294,24.7519182338486,0],
[42.13543614787962,24.74523963700348,0],
[42.13536221969538,24.74503666602174,0],
[42.13515754201192,24.74496423053868,0],
[42.13340863439618,24.74493008925566,0],
[42.13166324682357,24.74484939914034,0],
[42.12660805354191,24.74213160421866,0],
[42.12597777090251,24.75471397781833,0],
[42.12291490422668,24.75514497139741,0],
[42.12255118350596,24.7515788792176,0],
[42.12265368152107,24.74975430081699,0],
[42.12280925008523,24.74824089996413,0],
[42.12332831430301,24.7450177911861,0],
[42.12365073073808,24.74290833523387,0],
[42.12412521687302,24.74085441338565,0],
[42.12648737911053,24.73346650734275,0],
[42.12767669095089,24.72790393103462,0],
[42.12918691774426,24.72265696621676,0],
[42.12557625000964,24.7200076493801,0],
[42.12545048418891,24.72026939501487,0],
[42.12524729221444,24.72031614034238,0],
[42.12518565151574,24.72075909021358,0],
[42.12532304783187,24.72094037170206,0],
[42.12560354974534,24.72032173012819,0],
[42.12566631768721,24.72030907487827,0],
[42.12577746560222,24.7203872077936,0],
[42.12895660906912,24.72281508223711,0],
[42.12760905879507,24.72785035025355,0],
[42.12655047566339,24.73264749644078,0],
[42.12402984517925,24.74080325664523,0],
[42.1235575996857,24.74285284061625,0],
[42.12317595252336,24.74513461421206,0],
[42.1224188773791,24.75003355164485,0],
[42.12247399100105,24.75221351456205,0],
[42.12272031123666,24.75534327014871,0],
[42.12603665560587,24.75481827515713,0],
[42.12665989254237,24.7422584156008,0],
[42.13165549729934,24.74495263875082,0],
[42.13338081198426,24.74504718318918,0],
[42.13510917408962,24.74505877673312,0],
[42.13519257486995,24.74516098939921,0],
[42.13526655908808,24.74538891955874,0],
[42.13611536104546,24.75121294512181,0],
[42.13623436929861,24.75243554901888,0],
[42.13610959843572,24.76297145129715,0],
[42.13618274462202,24.76327317051365,0],
[42.13657680683003,24.76307542256597,0],
[42.14687015474664,24.76325929720744,0],
[42.14785801058554,24.76913137438003,0],
[42.14836931247731,24.7717884999812,0],
[42.14884416993133,24.77449040931015,0],
[42.14894970710437,24.77755587439073,0],
[42.14883780914617,24.77976821909374,0],
[42.14865706470503,24.78282021619481,0],
[42.14868147220918,24.7837017537743,0],
[42.14859152442556,24.78519807643546,0],
[42.14859258096251,24.78556035501299,0],
[42.14854047751858,24.78649245929821,0],
[42.15232037614912,24.78701357513371,0],
[42.15265612330069,24.78710158044915,0],
[42.15248797405163,24.78951730923725,0],
[42.15412131373947,24.78971805066078,0],
[42.15676382145933,24.79078660616144,0],
[42.15745820614319,24.78869903529261,0],
[42.15914176516012,24.78940501447627,0],
[42.15961648059535,24.78597615664594,0],
[42.15981144806614,24.78213923966418,0],
[42.15978152811749,24.78101587566616,0],
[42.15960461756598,24.78107301255674,0]
];


// Create a polyline for the bus route and add it to the map
L.polyline(busRoute, {color: 'red'}).addTo(map);
