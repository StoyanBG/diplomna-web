// Predefined bus schedule in HH:MM format
const busSchedule = ["05:15", "05:45", '06:15', '06:30', '06:45', '07:00', '07:15', '07:30',
    '07:45', '08:00', '08:15', '08:30', '08:45', '09:00', '09:15', '09:30', '09:45', '10:00', '10:15', 
    '10:30', '10:45', '11:00', '11:15', '11:30', '11:45', '12:00', '12:15', '12:30', '12:45', '13:00', 
    '13:15', '13:30', '13:45', '14:00', '14:15', '14:30', '14:45', '15:00', '15:15', '15:30', '15:45', 
    '16:00', '16:15', '16:30', '16:45', '17:00', '17:25',"17:40","18:20","18:50","19:35","20:00,","20:45"];

    // Function to find the next bus
    function findNextBus() {
        const userTimeInput = document.getElementById('userTime').value;

        if (!userTimeInput) {
            document.getElementById('result').textContent = 'Моля въведете валидно време.';
            return;
        }

        const nextBus = busSchedule.find(busTime => busTime >= userTimeInput);

        if (nextBus) {
            document.getElementById('result').textContent = `Следващия автобус е в ${nextBus}.`;
        } else {
            document.getElementById('result').textContent = 'Няма повече автобуси днес.';
        }
    }
    var map = L.map('map').setView([42.1354, 24.7453], 13);

    //Watermark for info about the contributors
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
         attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    // Define the bus route (example coordinates)
var busRoute = [[42.16227357962247,24.75909990461791,0],
    [42.16272646653739,24.7576298594627,0],
    [42.16295710611513,24.75629520908695,0],
    [42.16333761090121,24.75629745077167,0],
    [42.16332507105462,24.75171557853239,0],
    [42.16312148975244,24.74806386127679,0],
    [42.16268404550276,24.74761947315718,0],
    [42.16179310602831,24.74784564171145,0],
    [42.16019644604279,24.74848468139146,0],
    [42.15943406596018,24.74894299467584,0],
    [42.15909524010311,24.74900599319051,0],
    [42.1590504322766,24.74866238419633,0],
    [42.15910431132266,24.74790791548097,0],
    [42.15905698069146,24.74600360713034,0],
    [42.15891166392972,24.7424329070579,0],
    [42.15902357403334,24.73952386135447,0],
    [42.15905402651033,24.73884800200139,0],
    [42.1590311890051,24.73846492238954,0],
    [42.1590066959865,24.73811485076989,0],
    [42.15892372209011,24.73803597518802,0],
    [42.15635240298245,24.73868700315088,0],
    [42.15462638148351,24.73871074019657,0],
    [42.15292782381086,24.73866156947609,0],
    [42.15250786142665,24.73870451376002,0],
    [42.15207157985044,24.73886471416285,0],
    [42.15156840059021,24.73924738513114,0],
    [42.1511093834862,24.73968858917134,0],
    [42.14937882747437,24.74073910408406,0],
    [42.1454731397293,24.74125679310935,0],
    [42.14411651463685,24.74140854010068,0],
    [42.14273623514951,24.74155898109716,0],
    [42.1413567111144,24.74171771899807,0],
    [42.13997026788876,24.7419072691462,0],
    [42.13629767258943,24.74226912546238,0],
    [42.13622412253333,24.74250970452279,0],
    [42.13522203547411,24.74256027362491,0],
    [42.13507979760013,24.74204954905908,0],
    [42.1334364252842,24.73347540643394,0],
    [42.1332073787156,24.73159554153438,0],
    [42.13321883036859,24.72964726497909,0],
    [42.13292221625608,24.7275983366346,0],
    [42.13264430282428,24.7263786575409,0],
    [42.13246355521482,24.72576421478222,0],
    [42.13215775327933,24.72527269122629,0],
    [42.12553805506106,24.72021419487927,0],
    [42.12529116016648,24.72083199100415,0],
    [42.12519665224156,24.72071195994324,0],
    [42.1251854508528,24.72052118551294,0],
    [42.12522352947807,24.72032704312332,0],
    [42.12531904546359,24.72026958985134,0],
    [42.12543500839067,24.72023676573297,0],
    [42.12553183687921,24.71999668046301,0],
    [42.12882783255981,24.72242680311638,0],
    [42.13211806968835,24.72488795490752,0],
    [42.13255315109154,24.72574186966397,0],
    [42.13277950239242,24.72648635366276,0],
    [42.13295128880554,24.72730621313495,0],
    [42.13320600801657,24.72832747103899,0],
    [42.13334551990224,24.72950360336077,0],
    [42.13332901449103,24.7315938576723,0],
    [42.1336191986284,24.7335226948068,0],
    [42.13516177640172,24.74179806139318,0],
    [42.13603613665258,24.74189479105458,0],
    [42.13630746221349,24.74215180319575,0],
    [42.13697793477249,24.74213740326367,0],
    [42.14808076156572,24.7407327554991,0],
    [42.14932936163936,24.74056906219112,0],
    [42.15103755403788,24.73954048581716,0],
    [42.15204429556611,24.73871655896412,0],
    [42.15253884036699,24.73855164926434,0],
    [42.15634409434295,24.73854859407928,0],
    [42.15895931175082,24.7377921772268,0],
    [42.15903480699877,24.73779957895807,0],
    [42.1591101180892,24.73793136448133,0],
    [42.1591382517281,24.73814263451651,0],
    [42.15914860568558,24.73841217550144,0],
    [42.15916245203889,24.73912415548036,0],
    [42.15907241036224,24.74235993713304,0],
    [42.15923286611174,24.74751290912133,0],
    [42.15938683427052,24.7487920696642,0],
    [42.15931344428085,24.74974802703602,0],
    [42.15937186308415,24.75379163003332,0],
    [42.1594501866097,24.75782746508031,0],
    [42.15957418207916,24.75887432029179,0],
    [42.15972928671552,24.75992126278803,0],
    [42.15984147881377,24.75986916486393,0],
    [42.16207287355223,24.76000122526247,0],
    [42.16207974665174,24.75968513001521,0],
    [42.16227357962247,24.75909990461791,0]];
// Create a polyline for the bus route and add it to the map
L.polyline(busRoute, {color: 'red'}).addTo(map);
